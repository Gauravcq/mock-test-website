<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Mock Test</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Inside the <head> of test.html -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

    <div id="quiz-ui">
        <header class="main-header">
            <div id="test-main-title" class="logo">ðŸŽ“ Loading Test...</div>
            <div class="header-controls">
                <div id="timer">20:00</div>
            </div>
        </header>
        <main class="quiz-body">
            <div class="question-panel">
                <div class="question-header" id="question-title">Question...</div>
                <div id="question-area"></div>
                <div class="action-buttons">
                    <button id="prev-btn" class="action-btn">Previous</button>
                    <button id="clear-response-btn" class="action-btn">Clear</button>
                    <button id="mark-review-btn" class="action-btn">Mark</button>
                    <button id="next-btn" class="action-btn">Save & Next</button>
                </div>
            </div>
            <aside class="palette-panel">
                <div class="palette-header">Question Palette</div>
                <div id="question-palette"></div>
                <button id="submit-test-btn">Submit Test</button>
            </aside>
        </main>
    </div>

    <div id="result-summary-page" class="hidden">
        <div class="result-summary-header">Test Results</div>
        <div class="result-stats-grid">
            <div class="stat-card score"><span id="result-score" class="value">0.00</span><span class="label">Score</span></div>
            <div class="stat-card correct"><span id="result-correct" class="value">0</span><span class="label">Correct</span></div>
            <div class="stat-card incorrect"><span id="result-incorrect" class="value">0</span><span class="label">Incorrect</span></div>
            <div class="stat-card unattempted"><span id="result-unattempted" class="value">0</span><span class="label">Unattempted</span></div>
        </div>
        <div class="result-summary-footer">
            <button id="review-test-btn">Review Test</button>
        </div>
    </div>

    <div id="review-page" class="hidden">
        <div class="question-panel" style="margin: auto;">
             <div class="question-header" id="review-question-title">Reviewing...</div>
             <div id="review-question-area"></div>
             <div class="action-buttons">
                <button id="review-prev-btn" class="action-btn">Previous</button>
                <a href="index.html" id="back-to-home-btn" class="action-btn" style="text-decoration:none; background-color: var(--primary-color); color:white;">Back to Home</a>
                <button id="review-next-btn" class="action-btn" style="margin-left: auto;">Next</button>
             </div>
        </div>
    </div>

    <!-- Script loading order is CRITICAL here -->
    <script src="js/tests-list.js"></script>
    <script src="js/questions-db.js"></script>
    <script src="js/test-logic.js"></script>
    
</body>
</html>